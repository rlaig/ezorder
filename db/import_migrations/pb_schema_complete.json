[
  {
    "id": "_pb_users_auth_",
    "listRule": "id = @request.auth.id",
    "viewRule": "id = @request.auth.id",
    "createRule": "",
    "updateRule": "id = @request.auth.id || @request.auth.role = 'admin'",
    "deleteRule": "id = @request.auth.id",
    "name": "users",
    "type": "auth",
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text3208210256",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cost": 0,
        "hidden": true,
        "id": "password901924565",
        "max": 0,
        "min": 8,
        "name": "password",
        "pattern": "",
        "presentable": false,
        "required": true,
        "system": true,
        "type": "password"
      },
      {
        "autogeneratePattern": "[a-zA-Z0-9]{50}",
        "hidden": true,
        "id": "text2504183744",
        "max": 60,
        "min": 30,
        "name": "tokenKey",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "exceptDomains": null,
        "hidden": false,
        "id": "email3885137012",
        "name": "email",
        "onlyDomains": null,
        "presentable": false,
        "required": true,
        "system": true,
        "type": "email"
      },
      {
        "hidden": false,
        "id": "bool1547992806",
        "name": "emailVisibility",
        "presentable": false,
        "required": false,
        "system": true,
        "type": "bool"
      },
      {
        "hidden": false,
        "id": "bool256245529",
        "name": "verified",
        "presentable": false,
        "required": false,
        "system": true,
        "type": "bool"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text1579384326",
        "max": 255,
        "min": 0,
        "name": "name",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "file376926767",
        "maxSelect": 1,
        "maxSize": 0,
        "mimeTypes": [
          "image/jpeg",
          "image/png",
          "image/svg+xml",
          "image/gif",
          "image/webp"
        ],
        "name": "avatar",
        "presentable": false,
        "protected": false,
        "required": false,
        "system": false,
        "thumbs": null,
        "type": "file"
      },
      {
        "hidden": false,
        "id": "select_role_users",
        "maxSelect": 1,
        "name": "role",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["customer", "merchant", "admin", "super_admin"]
      },
      {
        "hidden": false,
        "id": "autodate2990389176",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate3332085495",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE UNIQUE INDEX `idx_tokenKey__pb_users_auth_` ON `users` (`tokenKey`)",
      "CREATE UNIQUE INDEX `idx_email__pb_users_auth_` ON `users` (`email`) WHERE `email` != ''"
    ],
    "system": false,
    "authRule": "",
    "manageRule": null,
    "authAlert": {
      "enabled": true,
      "emailTemplate": {
        "subject": "Login from a new location",
        "body": "<p>Hello,</p>\n<p>We noticed a login to your {APP_NAME} account from a new location.</p>\n<p>If this was you, you may disregard this email.</p>\n<p><strong>If this wasn't you, you should immediately change your {APP_NAME} account password to revoke access from all other locations.</strong></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>"
      }
    },
    "oauth2": {
      "mappedFields": {
        "id": "",
        "name": "name",
        "username": "",
        "avatarURL": "avatar"
      },
      "enabled": false
    },
    "passwordAuth": {
      "enabled": true,
      "identityFields": [
        "email"
      ]
    },
    "mfa": {
      "enabled": false,
      "duration": 1800,
      "rule": ""
    },
    "otp": {
      "enabled": false,
      "duration": 180,
      "length": 8,
      "emailTemplate": {
        "subject": "OTP for {APP_NAME}",
        "body": "<p>Hello,</p>\n<p>Your one-time password is: <strong>{OTP}</strong></p>\n<p><i>If you didn't ask for the one-time password, you can ignore this email.</i></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>"
      }
    },
    "authToken": {
      "duration": 604800
    },
    "passwordResetToken": {
      "duration": 1800
    },
    "emailChangeToken": {
      "duration": 1800
    },
    "verificationToken": {
      "duration": 259200
    },
    "fileToken": {
      "duration": 180
    },
    "verificationTemplate": {
      "subject": "Verify your {APP_NAME} email",
      "body": "<p>Hello,</p>\n<p>Thank you for joining us at {APP_NAME}.</p>\n<p>Click on the button below to verify your email address.</p>\n<p>\n  <a class=\"btn\" href=\"{APP_URL}/_/#/auth/confirm-verification/{TOKEN}\" target=\"_blank\" rel=\"noopener\">Verify</a>\n</p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>"
    },
    "resetPasswordTemplate": {
      "subject": "Reset your {APP_NAME} password",
      "body": "<p>Hello,</p>\n<p>Click on the button below to reset your password.</p>\n<p>\n  <a class=\"btn\" href=\"{APP_URL}/_/#/auth/confirm-password-reset/{TOKEN}\" target=\"_blank\" rel=\"noopener\">Reset password</a>\n</p>\n<p><i>If you didn't ask to reset your password, you can ignore this email.</i></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>"
    },
    "confirmEmailChangeTemplate": {
      "subject": "Confirm your {APP_NAME} new email address",
      "body": "<p>Hello,</p>\n<p>Click on the button below to confirm your new email address.</p>\n<p>\n  <a class=\"btn\" href=\"{APP_URL}/_/#/auth/confirm-email-change/{TOKEN}\" target=\"_blank\" rel=\"noopener\">Confirm new email</a>\n</p>\n<p><i>If you didn't ask to change your email address, you can ignore this email.</i></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>"
    }
  },
  {
    "id": "merchants_collection",
    "listRule": "user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "viewRule": "user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "createRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "updateRule": "user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "merchants",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_merchants",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "_pb_users_auth_",
        "displayFields": null,
        "hidden": false,
        "id": "relation_user_id_merchants",
        "maxSelect": 1,
        "minSelect": null,
        "name": "user_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_business_name_merchants",
        "max": 255,
        "min": 1,
        "name": "business_name",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": true,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_address_merchants",
        "max": 500,
        "min": 0,
        "name": "address",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_phone_merchants",
        "max": 50,
        "min": 0,
        "name": "phone",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_gcash_number_merchants",
        "max": 50,
        "min": 0,
        "name": "gcash_number",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "select_status_merchants",
        "maxSelect": 1,
        "name": "status",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["pending", "active", "inactive", "suspended"]
      },
      {
        "hidden": false,
        "id": "json_settings_merchants",
        "maxSize": 0,
        "name": "settings",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "json"
      },
      {
        "hidden": false,
        "id": "autodate_created_merchants",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_merchants",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE UNIQUE INDEX `idx_user_id_merchants` ON `merchants` (`user_id`)"
    ]
  },
  {
    "id": "menu_categories_collection",
    "listRule": "",
    "viewRule": "",
    "createRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "updateRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "menu_categories",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_menu_categories",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "merchants_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_merchant_id_menu_categories",
        "maxSelect": 1,
        "minSelect": null,
        "name": "merchant_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_name_menu_categories",
        "max": 100,
        "min": 1,
        "name": "name",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": true,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_description_menu_categories",
        "max": 500,
        "min": 0,
        "name": "description",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "number_sort_order_menu_categories",
        "max": null,
        "min": 0,
        "name": "sort_order",
        "onlyInt": true,
        "presentable": false,
        "required": false,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "bool_enabled_menu_categories",
        "name": "enabled",
        "presentable": true,
        "required": false,
        "system": false,
        "type": "bool"
      },
      {
        "hidden": false,
        "id": "autodate_created_menu_categories",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_menu_categories",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_merchant_id_menu_categories` ON `menu_categories` (`merchant_id`)"
    ]
  },
  {
    "id": "menu_items_collection",
    "listRule": "",
    "viewRule": "",
    "createRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "updateRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "menu_items",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_menu_items",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "merchants_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_merchant_id_menu_items",
        "maxSelect": 1,
        "minSelect": null,
        "name": "merchant_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "menu_categories_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_category_id_menu_items",
        "maxSelect": 1,
        "minSelect": null,
        "name": "category_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_name_menu_items",
        "max": 200,
        "min": 1,
        "name": "name",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": true,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_description_menu_items",
        "max": 1000,
        "min": 0,
        "name": "description",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "number_price_menu_items",
        "max": null,
        "min": 0,
        "name": "price",
        "onlyInt": false,
        "presentable": true,
        "required": true,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "file_image_menu_items",
        "maxSelect": 1,
        "maxSize": 5242880,
        "mimeTypes": [
          "image/jpeg",
          "image/png",
          "image/webp"
        ],
        "name": "image",
        "presentable": false,
        "protected": false,
        "required": false,
        "system": false,
        "thumbs": [
          "100x100",
          "300x300"
        ],
        "type": "file"
      },
      {
        "hidden": false,
        "id": "bool_available_menu_items",
        "name": "available",
        "presentable": true,
        "required": false,
        "system": false,
        "type": "bool"
      },
      {
        "hidden": false,
        "id": "bool_featured_menu_items",
        "name": "featured",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "bool"
      },
      {
        "hidden": false,
        "id": "number_sort_order_menu_items",
        "max": null,
        "min": 0,
        "name": "sort_order",
        "onlyInt": true,
        "presentable": false,
        "required": false,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "json_allergens_menu_items",
        "maxSize": 0,
        "name": "allergens",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "json"
      },
      {
        "hidden": false,
        "id": "json_dietary_info_menu_items",
        "maxSize": 0,
        "name": "dietary_info",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "json"
      },
      {
        "hidden": false,
        "id": "autodate_created_menu_items",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_menu_items",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_merchant_id_menu_items` ON `menu_items` (`merchant_id`)",
      "CREATE INDEX `idx_category_id_menu_items` ON `menu_items` (`category_id`)"
    ]
  },
  {
    "id": "menu_modifiers_collection",
    "listRule": "",
    "viewRule": "",
    "createRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "updateRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "menu_modifiers",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_menu_modifiers",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "menu_items_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_item_id_menu_modifiers",
        "maxSelect": 1,
        "minSelect": null,
        "name": "item_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_name_menu_modifiers",
        "max": 100,
        "min": 1,
        "name": "name",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": true,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "select_type_menu_modifiers",
        "maxSelect": 1,
        "name": "type",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["single_choice", "multiple_choice", "text_input"]
      },
      {
        "hidden": false,
        "id": "json_options_menu_modifiers",
        "maxSize": 0,
        "name": "options",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "json"
      },
      {
        "hidden": false,
        "id": "bool_required_menu_modifiers",
        "name": "required",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "bool"
      },
      {
        "hidden": false,
        "id": "number_min_selections_menu_modifiers",
        "max": null,
        "min": 0,
        "name": "min_selections",
        "onlyInt": true,
        "presentable": false,
        "required": false,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "number_max_selections_menu_modifiers",
        "max": null,
        "min": 0,
        "name": "max_selections",
        "onlyInt": true,
        "presentable": false,
        "required": false,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "autodate_created_menu_modifiers",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_menu_modifiers",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_item_id_menu_modifiers` ON `menu_modifiers` (`item_id`)"
    ]
  },
  {
    "id": "qr_codes_collection",
    "listRule": "",
    "viewRule": "",
    "createRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "updateRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'merchant' || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "qr_codes",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_qr_codes",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "merchants_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_merchant_id_qr_codes",
        "maxSelect": 1,
        "minSelect": null,
        "name": "merchant_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_table_identifier_qr_codes",
        "max": 100,
        "min": 0,
        "name": "table_identifier",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_location_identifier_qr_codes",
        "max": 100,
        "min": 0,
        "name": "location_identifier",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "[a-zA-Z0-9]{32}",
        "hidden": false,
        "id": "text_code_qr_codes",
        "max": 32,
        "min": 32,
        "name": "code",
        "pattern": "^[a-zA-Z0-9]+$",
        "presentable": false,
        "primaryKey": false,
        "required": true,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "bool_active_qr_codes",
        "name": "active",
        "presentable": true,
        "required": false,
        "system": false,
        "type": "bool"
      },
      {
        "hidden": false,
        "id": "number_usage_count_qr_codes",
        "max": null,
        "min": 0,
        "name": "usage_count",
        "onlyInt": true,
        "presentable": false,
        "required": false,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "datetime_last_used_qr_codes",
        "max": "",
        "min": "",
        "name": "last_used",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "date"
      },
      {
        "hidden": false,
        "id": "autodate_created_qr_codes",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_qr_codes",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE UNIQUE INDEX `idx_code_qr_codes` ON `qr_codes` (`code`)",
      "CREATE INDEX `idx_merchant_id_qr_codes` ON `qr_codes` (`merchant_id`)"
    ]
  },
  {
    "id": "customers_collection",
    "listRule": "id = @request.auth.id",
    "viewRule": "id = @request.auth.id",
    "createRule": "",
    "updateRule": "id = @request.auth.id",
    "deleteRule": "id = @request.auth.id",
    "name": "customers",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_customers",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_name_customers",
        "max": 255,
        "min": 0,
        "name": "name",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_phone_customers",
        "max": 50,
        "min": 0,
        "name": "phone",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "json_preferences_customers",
        "maxSize": 0,
        "name": "preferences",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "json"
      },
      {
        "hidden": false,
        "id": "autodate_created_customers",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_customers",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": []
  },
  {
    "id": "orders_collection",
    "listRule": "customer_id = @request.auth.id || merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "viewRule": "customer_id = @request.auth.id || merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "createRule": "",
    "updateRule": "merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "orders",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_orders",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "merchants_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_merchant_id_orders",
        "maxSelect": 1,
        "minSelect": null,
        "name": "merchant_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "customers_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_customer_id_orders",
        "maxSelect": 1,
        "minSelect": null,
        "name": "customer_id",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "qr_codes_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_qr_code_id_orders",
        "maxSelect": 1,
        "minSelect": null,
        "name": "qr_code_id",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "relation"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_customer_name_orders",
        "max": 255,
        "min": 0,
        "name": "customer_name",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_customer_phone_orders",
        "max": 50,
        "min": 0,
        "name": "customer_phone",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "select_status_orders",
        "maxSelect": 1,
        "name": "status",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["placed", "confirmed", "preparing", "ready", "completed", "cancelled"]
      },
      {
        "hidden": false,
        "id": "number_total_amount_orders",
        "max": null,
        "min": 0,
        "name": "total_amount",
        "onlyInt": false,
        "presentable": true,
        "required": true,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "number_tax_amount_orders",
        "max": null,
        "min": 0,
        "name": "tax_amount",
        "onlyInt": false,
        "presentable": false,
        "required": false,
        "system": false,
        "type": "number"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_special_instructions_orders",
        "max": 1000,
        "min": 0,
        "name": "special_instructions",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "datetime_estimated_ready_time_orders",
        "max": "",
        "min": "",
        "name": "estimated_ready_time",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "date"
      },
      {
        "hidden": false,
        "id": "datetime_completed_at_orders",
        "max": "",
        "min": "",
        "name": "completed_at",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "date"
      },
      {
        "hidden": false,
        "id": "autodate_created_orders",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_orders",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_merchant_id_orders` ON `orders` (`merchant_id`)",
      "CREATE INDEX `idx_customer_id_orders` ON `orders` (`customer_id`)",
      "CREATE INDEX `idx_status_orders` ON `orders` (`status`)"
    ]
  },
  {
    "id": "order_items_collection",
    "listRule": "order_id.customer_id = @request.auth.id || order_id.merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "viewRule": "order_id.customer_id = @request.auth.id || order_id.merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "createRule": "",
    "updateRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "order_items",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_order_items",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": true,
        "collectionId": "orders_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_order_id_order_items",
        "maxSelect": 1,
        "minSelect": null,
        "name": "order_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "menu_items_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_menu_item_id_order_items",
        "maxSelect": 1,
        "minSelect": null,
        "name": "menu_item_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_item_name_order_items",
        "max": 200,
        "min": 1,
        "name": "item_name",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": true,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "number_quantity_order_items",
        "max": null,
        "min": 1,
        "name": "quantity",
        "onlyInt": true,
        "presentable": true,
        "required": true,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "number_unit_price_order_items",
        "max": null,
        "min": 0,
        "name": "unit_price",
        "onlyInt": false,
        "presentable": true,
        "required": true,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "number_total_price_order_items",
        "max": null,
        "min": 0,
        "name": "total_price",
        "onlyInt": false,
        "presentable": true,
        "required": true,
        "system": false,
        "type": "number"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_special_instructions_order_items",
        "max": 500,
        "min": 0,
        "name": "special_instructions",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "autodate_created_order_items",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_order_items",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_order_id_order_items` ON `order_items` (`order_id`)",
      "CREATE INDEX `idx_menu_item_id_order_items` ON `order_items` (`menu_item_id`)"
    ]
  },
  {
    "id": "order_modifiers_collection",
    "listRule": "order_item_id.order_id.customer_id = @request.auth.id || order_item_id.order_id.merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "viewRule": "order_item_id.order_id.customer_id = @request.auth.id || order_item_id.order_id.merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "createRule": "",
    "updateRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "order_modifiers",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_order_modifiers",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": true,
        "collectionId": "order_items_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_order_item_id_order_modifiers",
        "maxSelect": 1,
        "minSelect": null,
        "name": "order_item_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "menu_modifiers_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_modifier_id_order_modifiers",
        "maxSelect": 1,
        "minSelect": null,
        "name": "modifier_id",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "relation"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_modifier_name_order_modifiers",
        "max": 100,
        "min": 1,
        "name": "modifier_name",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": true,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_option_name_order_modifiers",
        "max": 100,
        "min": 0,
        "name": "option_name",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_option_value_order_modifiers",
        "max": 500,
        "min": 0,
        "name": "option_value",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "number_price_adjustment_order_modifiers",
        "max": null,
        "min": null,
        "name": "price_adjustment",
        "onlyInt": false,
        "presentable": false,
        "required": false,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "autodate_created_order_modifiers",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_order_modifiers",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_order_item_id_order_modifiers` ON `order_modifiers` (`order_item_id`)"
    ]
  },
  {
    "id": "payments_collection",
    "listRule": "order_id.customer_id = @request.auth.id || order_id.merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "viewRule": "order_id.customer_id = @request.auth.id || order_id.merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "createRule": "",
    "updateRule": "order_id.merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "payments",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_payments",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "orders_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_order_id_payments",
        "maxSelect": 1,
        "minSelect": null,
        "name": "order_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "hidden": false,
        "id": "select_method_payments",
        "maxSelect": 1,
        "name": "method",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["cash", "gcash", "card"]
      },
      {
        "hidden": false,
        "id": "select_status_payments",
        "maxSelect": 1,
        "name": "status",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["pending", "completed", "failed", "refunded"]
      },
      {
        "hidden": false,
        "id": "number_amount_payments",
        "max": null,
        "min": 0,
        "name": "amount",
        "onlyInt": false,
        "presentable": true,
        "required": true,
        "system": false,
        "type": "number"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_transaction_id_payments",
        "max": 255,
        "min": 0,
        "name": "transaction_id",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "json_metadata_payments",
        "maxSize": 0,
        "name": "metadata",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "json"
      },
      {
        "hidden": false,
        "id": "datetime_processed_at_payments",
        "max": "",
        "min": "",
        "name": "processed_at",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "date"
      },
      {
        "hidden": false,
        "id": "autodate_created_payments",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_payments",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_order_id_payments` ON `payments` (`order_id`)",
      "CREATE INDEX `idx_transaction_id_payments` ON `payments` (`transaction_id`)"
    ]
  },
  {
    "id": "reviews_collection",
    "listRule": "customer_id = @request.auth.id || merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "viewRule": "",
    "createRule": "",
    "updateRule": "customer_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "reviews",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_reviews",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "orders_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_order_id_reviews",
        "maxSelect": 1,
        "minSelect": null,
        "name": "order_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "merchants_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_merchant_id_reviews",
        "maxSelect": 1,
        "minSelect": null,
        "name": "merchant_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "customers_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_customer_id_reviews",
        "maxSelect": 1,
        "minSelect": null,
        "name": "customer_id",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "relation"
      },
      {
        "hidden": false,
        "id": "number_rating_reviews",
        "max": 5,
        "min": 1,
        "name": "rating",
        "onlyInt": true,
        "presentable": true,
        "required": true,
        "system": false,
        "type": "number"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_comment_reviews",
        "max": 1000,
        "min": 0,
        "name": "comment",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "number_food_rating_reviews",
        "max": 5,
        "min": 1,
        "name": "food_rating",
        "onlyInt": true,
        "presentable": false,
        "required": false,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "number_service_rating_reviews",
        "max": 5,
        "min": 1,
        "name": "service_rating",
        "onlyInt": true,
        "presentable": false,
        "required": false,
        "system": false,
        "type": "number"
      },
      {
        "hidden": false,
        "id": "file_photos_reviews",
        "maxSelect": 5,
        "maxSize": 5242880,
        "mimeTypes": [
          "image/jpeg",
          "image/png",
          "image/webp"
        ],
        "name": "photos",
        "presentable": false,
        "protected": false,
        "required": false,
        "system": false,
        "thumbs": [
          "100x100",
          "300x300"
        ],
        "type": "file"
      },
      {
        "hidden": false,
        "id": "autodate_created_reviews",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_reviews",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_order_id_reviews` ON `reviews` (`order_id`)",
      "CREATE INDEX `idx_merchant_id_reviews` ON `reviews` (`merchant_id`)",
      "CREATE INDEX `idx_customer_id_reviews` ON `reviews` (`customer_id`)"
    ]
  },
  {
    "id": "loyalty_points_collection",
    "listRule": "customer_id = @request.auth.id || merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "viewRule": "customer_id = @request.auth.id || merchant_id.user_id = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "createRule": "",
    "updateRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "loyalty_points",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_loyalty_points",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "customers_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_customer_id_loyalty_points",
        "maxSelect": 1,
        "minSelect": null,
        "name": "customer_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "merchants_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_merchant_id_loyalty_points",
        "maxSelect": 1,
        "minSelect": null,
        "name": "merchant_id",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "orders_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_order_id_loyalty_points",
        "maxSelect": 1,
        "minSelect": null,
        "name": "order_id",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "relation"
      },
      {
        "hidden": false,
        "id": "select_type_loyalty_points",
        "maxSelect": 1,
        "name": "type",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["earned", "redeemed", "expired"]
      },
      {
        "hidden": false,
        "id": "number_points_loyalty_points",
        "max": null,
        "min": null,
        "name": "points",
        "onlyInt": true,
        "presentable": true,
        "required": true,
        "system": false,
        "type": "number"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_description_loyalty_points",
        "max": 255,
        "min": 0,
        "name": "description",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "datetime_expires_at_loyalty_points",
        "max": "",
        "min": "",
        "name": "expires_at",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "date"
      },
      {
        "hidden": false,
        "id": "autodate_created_loyalty_points",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_loyalty_points",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_customer_id_loyalty_points` ON `loyalty_points` (`customer_id`)",
      "CREATE INDEX `idx_merchant_id_loyalty_points` ON `loyalty_points` (`merchant_id`)",
      "CREATE INDEX `idx_order_id_loyalty_points` ON `loyalty_points` (`order_id`)"
    ]
  },
  {
    "id": "support_tickets_collection",
    "listRule": "created_by = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "viewRule": "created_by = @request.auth.id || @request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "createRule": "@request.auth.id != ''",
    "updateRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "support_tickets",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_support_tickets",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "_pb_users_auth_",
        "displayFields": null,
        "hidden": false,
        "id": "relation_created_by_support_tickets",
        "maxSelect": 1,
        "minSelect": null,
        "name": "created_by",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "orders_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_order_id_support_tickets",
        "maxSelect": 1,
        "minSelect": null,
        "name": "order_id",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "relation"
      },
      {
        "hidden": false,
        "id": "select_category_support_tickets",
        "maxSelect": 1,
        "name": "category",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["order_issue", "payment_issue", "technical_issue", "feedback", "other"]
      },
      {
        "hidden": false,
        "id": "select_priority_support_tickets",
        "maxSelect": 1,
        "name": "priority",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["low", "medium", "high", "urgent"]
      },
      {
        "hidden": false,
        "id": "select_status_support_tickets",
        "maxSelect": 1,
        "name": "status",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["open", "in_progress", "waiting_response", "resolved", "closed"]
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_subject_support_tickets",
        "max": 255,
        "min": 1,
        "name": "subject",
        "pattern": "",
        "presentable": true,
        "primaryKey": false,
        "required": true,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_description_support_tickets",
        "max": 2000,
        "min": 1,
        "name": "description",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": true,
        "system": false,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "_pb_users_auth_",
        "displayFields": null,
        "hidden": false,
        "id": "relation_assigned_to_support_tickets",
        "maxSelect": 1,
        "minSelect": null,
        "name": "assigned_to",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "relation"
      },
      {
        "hidden": false,
        "id": "datetime_resolved_at_support_tickets",
        "max": "",
        "min": "",
        "name": "resolved_at",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "date"
      },
      {
        "hidden": false,
        "id": "autodate_created_support_tickets",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_support_tickets",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_created_by_support_tickets` ON `support_tickets` (`created_by`)",
      "CREATE INDEX `idx_status_support_tickets` ON `support_tickets` (`status`)",
      "CREATE INDEX `idx_order_id_support_tickets` ON `support_tickets` (`order_id`)"
    ]
  },
  {
    "id": "analytics_events_collection",
    "listRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "viewRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "createRule": "",
    "updateRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "deleteRule": "@request.auth.role = 'admin' || @request.auth.role = 'super_admin'",
    "name": "analytics_events",
    "type": "base",
    "system": false,
    "fields": [
      {
        "autogeneratePattern": "[a-z0-9]{15}",
        "hidden": false,
        "id": "text_id_analytics_events",
        "max": 15,
        "min": 15,
        "name": "id",
        "pattern": "^[a-z0-9]+$",
        "presentable": false,
        "primaryKey": true,
        "required": true,
        "system": true,
        "type": "text"
      },
      {
        "cascadeDelete": false,
        "collectionId": "merchants_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_merchant_id_analytics_events",
        "maxSelect": 1,
        "minSelect": null,
        "name": "merchant_id",
        "presentable": true,
        "required": false,
        "system": false,
        "type": "relation"
      },
      {
        "cascadeDelete": false,
        "collectionId": "customers_collection",
        "displayFields": null,
        "hidden": false,
        "id": "relation_customer_id_analytics_events",
        "maxSelect": 1,
        "minSelect": null,
        "name": "customer_id",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "relation"
      },
      {
        "hidden": false,
        "id": "select_event_type_analytics_events",
        "maxSelect": 1,
        "name": "event_type",
        "presentable": true,
        "required": true,
        "system": false,
        "type": "select",
        "values": ["qr_scan", "menu_view", "item_view", "add_to_cart", "checkout_start", "order_placed", "payment_completed", "order_completed"]
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_session_id_analytics_events",
        "max": 255,
        "min": 0,
        "name": "session_id",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "json_metadata_analytics_events",
        "maxSize": 0,
        "name": "metadata",
        "presentable": false,
        "required": false,
        "system": false,
        "type": "json"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_user_agent_analytics_events",
        "max": 500,
        "min": 0,
        "name": "user_agent",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "autogeneratePattern": "",
        "hidden": false,
        "id": "text_ip_address_analytics_events",
        "max": 45,
        "min": 0,
        "name": "ip_address",
        "pattern": "",
        "presentable": false,
        "primaryKey": false,
        "required": false,
        "system": false,
        "type": "text"
      },
      {
        "hidden": false,
        "id": "autodate_created_analytics_events",
        "name": "created",
        "onCreate": true,
        "onUpdate": false,
        "presentable": false,
        "system": false,
        "type": "autodate"
      },
      {
        "hidden": false,
        "id": "autodate_updated_analytics_events",
        "name": "updated",
        "onCreate": true,
        "onUpdate": true,
        "presentable": false,
        "system": false,
        "type": "autodate"
      }
    ],
    "indexes": [
      "CREATE INDEX `idx_merchant_id_analytics_events` ON `analytics_events` (`merchant_id`)",
      "CREATE INDEX `idx_event_type_analytics_events` ON `analytics_events` (`event_type`)",
      "CREATE INDEX `idx_session_id_analytics_events` ON `analytics_events` (`session_id`)"
    ]
  }
]